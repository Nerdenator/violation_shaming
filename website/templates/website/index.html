{% extends 'website/base.html' %}
{% load app_filters %}
{% block main_container %}
    <h1>Violation Shaming</h1>
    <hr/>
    <h3>
        Open Violations by County
    </h3>
    <p>
        Kansas City, Missouri sits within the bounds of four counties. These are the open violations for each county.
    </p>

    <table class="table">
        <thead class="thead-light">
            <tr>
                <th>County</th>
                <th># of Violating Properties</th>
            </tr>
        </thead>
        {% for key, value in violations_per_county.items %}
            <tr>
                <td>{{ key }}</td>
                <td>{{ value }}</td>
            </tr>
        {% endfor %}
    </table>
    <p>As you can see, Jackson County, MO is the leader in violations of Kansas City's property codes.</p>
    <h3>Top 10 Violating Owners: Jackson County</h3>
    <table class="table">
        <thead class="thead-light">
            <tr>
                <th># of Violating Properties</th>
                <th>Owner Legal Name</th>
                <th>Owner City</th>
                <th>Owner State</th>
            </tr>
        </thead>
        {% for key, value1, value2, value3 in jackson_top_10_owners %}
            <tr>
                <td>{{ key }}</td>
                <td>{{ value1 }}</td>
                <td>{{ value2 }}</td>
                <td>{{ value3 }}</td>
            </tr>
        {% endfor %}
    </table>
{% endblock main_container %}